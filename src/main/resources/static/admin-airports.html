<!DOCTYPE html>
<html lang="en">

<head>
	<title>Booking - Airport Management</title>

	<!-- Meta Tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="author" content="StackBros">
	<meta name="description" content="Airport Management - Multipurpose Online Booking Theme">

	<!-- Dark mode -->
	<script>
		const storedTheme = localStorage.getItem('theme')
 
		const getPreferredTheme = () => {
			if (storedTheme) {
				return storedTheme
			}
			return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
		}

		const setTheme = function (theme) {
			if (theme === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				document.documentElement.setAttribute('data-bs-theme', 'dark')
			} else {
				document.documentElement.setAttribute('data-bs-theme', theme)
			}
		}

		setTheme(getPreferredTheme())

		window.addEventListener('DOMContentLoaded', () => {
		    var el = document.querySelector('.theme-icon-active');
			if(el != 'undefined' && el != null) {
				const showActiveTheme = theme => {
				const activeThemeIcon = document.querySelector('.theme-icon-active use')
				const btnToActive = document.querySelector(`[data-bs-theme-value="${theme}"]`)
				const svgOfActiveBtn = btnToActive.querySelector('.mode-switch use').getAttribute('href')

				document.querySelectorAll('[data-bs-theme-value]').forEach(element => {
					element.classList.remove('active')
				})

				btnToActive.classList.add('active')
				activeThemeIcon.setAttribute('href', svgOfActiveBtn)
			}

			window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => {
				if (storedTheme !== 'light' || storedTheme !== 'dark') {
					setTheme(getPreferredTheme())
				}
			})

			showActiveTheme(getPreferredTheme())

			document.querySelectorAll('[data-bs-theme-value]')
				.forEach(toggle => {
					toggle.addEventListener('click', () => {
						const theme = toggle.getAttribute('data-bs-theme-value')
						localStorage.setItem('theme', theme)
						setTheme(theme)
						showActiveTheme(theme)
					})
				})

			}
		})
	</script>

	<!-- Favicon -->
	<link rel="shortcut icon" href="assets/images/favicon.ico">

	<!-- Google Font -->
	<link rel="preconnect" href="https://fonts.googleapis.com/">
	<link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap">

	<!-- Plugins CSS -->
	<link rel="stylesheet" type="text/css" href="assets/vendor/font-awesome/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="assets/vendor/bootstrap-icons/bootstrap-icons.css">
	<link rel="stylesheet" type="text/css" href="assets/vendor/overlay-scrollbar/css/overlayscrollbars.min.css">
	<link rel="stylesheet" type="text/css" href="assets/vendor/apexcharts/css/apexcharts.css">

	<!-- Theme CSS -->
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>

<!-- **************** MAIN CONTENT START **************** -->
<main>
	
	<!-- Sidebar START -->
	<nav class="navbar sidebar navbar-expand-xl navbar-light">
		<!-- Navbar brand for xl START -->
		<div class="d-flex align-items-center">
			<a class="navbar-brand" href="admin-dashboard.html">
				<img class="light-mode-item navbar-brand-item h-70px" src="assets/images/logo-dark.png" alt="logo">
				<img class="dark-mode-item navbar-brand-item h-70px" src="assets/images/logo-light.png" alt="logo">
			</a>
		</div>
		<!-- Navbar brand for xl END -->
		
		<div class="offcanvas offcanvas-start flex-row custom-scrollbar h-100" data-bs-backdrop="true" tabindex="-1" id="offcanvasSidebar">
			<div class="offcanvas-body sidebar-content d-flex flex-column pt-4">
	
				<!-- Sidebar menu START -->
				<ul class="navbar-nav flex-column" id="navbar-sidebar">
					<!-- Menu item -->
					<li class="nav-item"><a href="admin-dashboard.html" class="nav-link"><i class="bi bi-house-door fa-fw me-1"></i>Dashboard</a></li>

					<!-- Title -->
					<li class="nav-item ms-2 my-2">Pages</li>
					<!-- Menu item -->
					<li class="nav-item"> <a class="nav-link" href="admin-flights.html"><i class="fa-solid fa-plane fa-fw me-1"></i>Flights</a></li>
	
					<!-- Menu item -->
					<li class="nav-item"> <a class="nav-link" href="admin-reservations.html"><i class="fa-solid fa-ticket fa-fw me-1"></i>Reservations</a></li>

					<!-- Menu item -->
					<li class="nav-item"> <a class="nav-link" href="admin-users.html"><i class="fa-solid fa-user fa-fw me-1"></i>Users</a></li>

					<!-- Menu item -->
					<li class="nav-item"> <a class="nav-link active" href="admin-airports.html"><i class="fa-solid fa-map-marker-alt fa-fw me-1"></i>Airports</a></li>
				</ul>
				<!-- Sidebar menu end -->
			</div>
		</div>
	</nav>
	<!-- Sidebar END -->
	
	<!-- Page content START -->
	<div class="page-content">
	
		<!-- Top bar START -->
		<nav class="navbar top-bar navbar-light py-0 py-xl-3">
			<div class="container-fluid p-0">
				<div class="d-flex align-items-center w-100">
	
					<!-- Logo START -->
					<div class="d-flex align-items-center d-xl-none">
						<a class="navbar-brand" href="index-2.html">
							<img class="navbar-brand-item h-40px" src="assets/images/logo-icon.svg" alt="">
						</a>
					</div>
					<!-- Logo END -->
	
					<!-- Toggler for sidebar START -->
					<div class="navbar-expand-xl sidebar-offcanvas-menu">
						<button class="navbar-toggler me-auto p-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar" aria-expanded="false" aria-label="Toggle navigation" data-bs-auto-close="outside">
							<i class="bi bi-list text-primary fa-fw" data-bs-target="#offcanvasMenu"></i>
						</button>
					</div>
					<!-- Toggler for sidebar END -->
					
					<!-- Top bar left -->
					<div class="navbar-expand-lg ms-auto ms-xl-0">
						<!-- Toggler for menubar START -->
						<button class="navbar-toggler ms-auto p-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTopContent" aria-controls="navbarTopContent" aria-expanded="false" aria-label="Toggle navigation">
							<i class="bi bi-search"></i>
						</button>
						<!-- Toggler for menubar END -->
	
						<!-- Topbar menu START -->
						<div class="collapse navbar-collapse w-100 z-index-1" id="navbarTopContent">
							<!-- Top search START -->
							<div class="nav my-3 my-xl-0 flex-nowrap align-items-center">
								<div class="nav-item w-100">
									<form class="position-relative">
										<input class="form-control pe-5" type="search" placeholder="Search" aria-label="Search">
										<button class="bg-transparent px-2 py-0 border-0 position-absolute top-50 end-0 translate-middle-y" type="submit"><i class="fas fa-search fs-6 text-primary"></i></button>
									</form>
								</div>
							</div>
							<!-- Top search END -->
						</div>
						<!-- Topbar menu END -->
					</div>
					<!-- Top bar left END -->
					
				<!-- Profile and Notification START -->
				<ul class="nav flex-row align-items-center list-unstyled ms-xl-auto">

					<!-- Dark mode options START -->
					<li class="nav-item dropdown ms-3">
						<button class="nav-notification btn btn-light lh-0 p-0 mb-0" id="bd-theme"
						type="button"
						aria-expanded="false"
						data-bs-toggle="dropdown"
						data-bs-display="static">
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half fa-fw theme-icon-active" viewBox="0 0 16 16">
								<path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
								<use href="#"></use>
							</svg>
						</button>

						<ul class="dropdown-menu min-w-auto dropdown-menu-end" aria-labelledby="bd-theme">
							<li class="mb-1">
								<button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light">
									<svg width="16" height="16" fill="currentColor" class="bi bi-brightness-high-fill fa-fw mode-switch me-1" viewBox="0 0 16 16">
										<path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
										<use href="#"></use>
									</svg>Light
								</button>
							</li>
							<li class="mb-1">
								<button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars-fill fa-fw mode-switch me-1" viewBox="0 0 16 16">
										<path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
										<path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l-.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
										<use href="#"></use>
									</svg>Dark
								</button>
							</li>
							<li>
								<button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-half fa-fw mode-switch" viewBox="0 0 16 16">
										<path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
										<use href="#"></use>
									</svg>Auto
								</button>
							</li>
						</ul>
					</li>
					<!-- Dark mode options END -->

				<!-- Profile dropdown START -->
				<li class="nav-item ms-3 dropdown">
					<!-- Avatar -->
					<a class="avatar avatar-sm p-0" href="#" id="profileDropdown" role="button" data-bs-auto-close="outside" data-bs-display="static" data-bs-toggle="dropdown" aria-expanded="false">
						<img class="avatar-img rounded-2" src="assets/images/avatar/01.jpg" alt="avatar">
					</a>

					<ul class="dropdown-menu dropdown-animation dropdown-menu-end shadow pt-3" aria-labelledby="profileDropdown">
						<!-- Profile info -->
						<li class="px-3 mb-3">
							<div class="d-flex align-items-center">
								<!-- Avatar -->
								<div class="avatar me-3">
									<img class="avatar-img rounded-circle shadow" src="assets/images/avatar/01.jpg" alt="avatar">
								</div>
								<div>
									<a class="h6 mt-2 mt-sm-0" href="#">Lori Ferguson</a>
									<p class="small m-0">example@gmail.com</p>
								</div>
							</div>
						</li>

						<!-- Links -->
						<li> <hr class="dropdown-divider"></li>
						<li><a class="dropdown-item" href="account-profile.html"><i class="bi bi-person fa-fw me-2"></i>My Profile</a></li>
						<li><a class="dropdown-item bg-danger-soft-hover" href="#"><i class="bi bi-power fa-fw me-2"></i>Sign Out</a></li>
					</ul>
				</li>
				<!-- Profile dropdown END -->
			</ul>
			<!-- Profile and Notification START -->
				</div>
			</div>
		</nav>
		<!-- Top bar END -->
	
		<!-- Content START -->
        <section>
            <div class="container vstack gap-4">
                <!-- Title and New Airport Button START -->
                <div class="row">
                    <div class="col-12">
                        <div class="d-flex justify-content-between align-items-center">
                            <h1 class="fs-4 mb-0"><i class="fa-solid fa-map-marker-alt fa-fw me-1"></i>Airports</h1>
                            <button type="button" class="btn btn-primary-soft mb-0" data-bs-toggle="modal" data-bs-target="#airportFormModal" data-bs-mode="add"><i class="bi bi-plus-lg fa-fw"></i>New Airport</button>
                        </div>
                    </div>
                </div>
                <!-- Title and New Airport Button END -->

                <!-- Airport table START -->
                <div class="row">
                    <div class="col-12">
                        <div class="card border">
                            <!-- Card header START -->
                            <div class="card-header border-bottom">
                                <h5 class="card-header-title">Airports<span class="badge bg-primary bg-opacity-10 text-primary ms-2">4 Airports</span></h5>
                            </div>
                            <!-- Card header END -->

                            <!-- Card body START -->
                            <div class="card-body">
                                <!-- Search and select START -->
                                <div class="row g-3 align-items-center justify-content-between mb-3">
                                    <!-- Search -->
                                    <div class="col-md-8">
                                        <form class="rounded position-relative">
                                            <input class="form-control pe-5" type="search" placeholder="Search" aria-label="Search">
                                            <button class="btn border-0 px-3 py-0 position-absolute top-50 end-0 translate-middle-y" type="submit"><i class="fas fa-search fs-6"></i></button>
                                        </form>
                                    </div>

                                    <!-- Select option -->
                                    <div class="col-md-3">
                                        <form>
                                            <select class="form-select js-choice" aria-label=".form-select-sm">
                                                <option value="">Sort by</option>
                                                <option>IATA Code</option>
                                                <option>Name</option>
                                                <option>City</option>
                                                <option>Country</option>
                                            </select>
                                        </form>
                                    </div>
                                </div>
                                <!-- Search and select END -->

                                <!-- Airport list START -->
                                <div class="table-responsive border-0">
                                    <table class="table align-middle p-4 mb-0 table-hover table-shrink">
                                        <!-- Table head -->
                                        <thead class="table-light">
                                            <tr>
                                                <th scope="col" class="border-0 rounded-start">#</th>
                                                <th scope="col" class="border-0">IATA Code</th>
                                                <th scope="col" class="border-0">Name</th>
                                                <th scope="col" class="border-0">City</th>
                                                <th scope="col" class="border-0">Country</th>
                                                <th scope="col" class="border-0 rounded-end">Action</th>
                                            </tr>
                                        </thead>

                                        <!-- Table body START -->
                                        <tbody class="border-top-0">
                                            <tr>
                                                <td><h6 class="mb-0">01</h6></td>
                                                <td><h6 class="mb-0"><a href="#">CMN</a></h6></td>
                                                <td>Mohammed V International Airport</td>
                                                <td>Casablanca</td>
                                                <td>Morocco</td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-light mb-0 me-1" data-bs-toggle="modal" data-bs-target="#airportModal1"><i class="bi bi-eye fa-fw me-1"></i>View</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><h6 class="mb-0">02</h6></td>
                                                <td><h6 class="mb-0"><a href="#">AGA</a></h6></td>
                                                <td>Al Massira Airport</td>
                                                <td>Agadir</td>
                                                <td>Morocco</td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-light mb-0 me-1" data-bs-toggle="modal" data-bs-target="#airportModal2"><i class="bi bi-eye fa-fw me-1"></i>View</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><h6 class="mb-0">03</h6></td>
                                                <td><h6 class="mb-0"><a href="#">RAK</a></h6></td>
                                                <td>Menara Airport</td>
                                                <td>Marrakech</td>
                                                <td>Morocco</td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-light mb-0 me-1" data-bs-toggle="modal" data-bs-target="#airportModal3"><i class="bi bi-eye fa-fw me-1"></i>View</a>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><h6 class="mb-0">04</h6></td>
                                                <td><h6 class="mb-0"><a href="#">JFK</a></h6></td>
                                                <td>John F. Kennedy International Airport</td>
                                                <td>New York</td>
                                                <td>United States</td>
                                                <td>
                                                    <a href="#" class="btn btn-sm btn-light mb-0 me-1" data-bs-toggle="modal" data-bs-target="#airportModal4"><i class="bi bi-eye fa-fw me-1"></i>View</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <!-- Table body END -->
                                    </table>
                                </div>
                                <!-- Airport list END -->
                            </div>
                            <!-- Card body END -->

                            <!-- Card footer START -->
                            <div class="card-footer pt-0">
                                <div class="d-sm-flex justify-content-sm-between align-items-sm-center">
                                    <p class="mb-sm-0 text-center text-sm-start">Showing 1 to 4 of 4 airports</p>
                                    <nav class="mb-sm-0 d-flex justify-content-center" aria-label="navigation">
                                        <ul class="pagination pagination-sm pagination-primary-soft mb-0">
                                            <li class="page-item disabled">
                                                <a class="page-link" href="#" tabindex="-1">Prev</a>
                                            </li>
                                            <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                            <li class="page-item disabled">
                                                <a class="page-link" href="#">Next</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <!-- Card footer END -->
                        </div>
                    </div>
                </div> 
                <!-- Airport table END -->
            </div>
        </section>
        <!-- =======================
        Content END -->

        <!-- Airport Form Modal START -->
        <div class="modal fade" id="airportFormModal" tabindex="-1" aria-labelledby="airportFormModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="airportFormModalLabel">New Airport</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="airportForm">
                            <div class="mb-3">
                                <label for="iataCode" class="form-label">IATA Code</label>
                                <input type="text" class="form-control" id="iataCode" maxlength="3" required>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Name</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">City</label>
                                <input type="text" class="form-control" id="city" required>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">Country</label>
                                <input type="text" class="form-control" id="country" required>
                            </div>
                            
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary" id="saveAirportBtn">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Airport Form Modal END -->

        <!-- Airport View Modals START -->
        <!-- Modal 1 -->
        <div class="modal fade" id="airportModal1" tabindex="-1" aria-labelledby="airportModalLabel1" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="airportModalLabel1">Airport Details - CMN</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>IATA Code:</strong> CMN</p>
                        <p><strong>Name:</strong> Mohammed V International Airport</p>
                        <p><strong>City:</strong> Casablanca</p>
                        <p><strong>Country:</strong> Morocco</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#airportFormModal" data-bs-mode="edit" data-bs-iata-code="CMN" data-bs-name="Mohammed V International Airport" data-bs-city="Casablanca" data-bs-country="Morocco">Edit</a>
                        <button class="btn btn-danger btn-sm remove-airport-btn" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" data-iata-code="CMN">Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal 2 -->
        <div class="modal fade" id="airportModal2" tabindex="-1" aria-labelledby="airportModalLabel2" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="airportModalLabel2">Airport Details - AGA</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>IATA Code:</strong> AGA</p>
                        <p><strong>Name:</strong> Al Massira Airport</p>
                        <p><strong>City:</strong> Agadir</p>
                        <p><strong>Country:</strong> Morocco</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#airportFormModal" data-bs-mode="edit" data-bs-iata-code="AGA" data-bs-name="Al Massira Airport" data-bs-city="Agadir" data-bs-country="Morocco">Edit</a>
                        <button class="btn btn-danger btn-sm remove-airport-btn" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" data-iata-code="AGA">Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal 3 -->
        <div class="modal fade" id="airportModal3" tabindex="-1" aria-labelledby="airportModalLabel3" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="airportModalLabel3">Airport Details - RAK</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>IATA Code:</strong> RAK</p>
                        <p><strong>Name:</strong> Menara Airport</p>
                        <p><strong>City:</strong> Marrakech</p>
                        <p><strong>Country:</strong> Morocco</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#airportFormModal" data-bs-mode="edit" data-bs-iata-code="RAK" data-bs-name="Menara Airport" data-bs-city="Marrakech" data-bs-country="Morocco">Edit</a>
                        <button class="btn btn-danger btn-sm remove-airport-btn" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" data-iata-code="RAK">Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal 4 -->
        <div class="modal fade" id="airportModal4" tabindex="-1" aria-labelledby="airportModalLabel4" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="airportModalLabel4">Airport Details - JFK</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>IATA Code:</strong> JFK</p>
                        <p><strong>Name:</strong> John F. Kennedy International Airport</p>
                        <p><strong>City:</strong> New York</p>
                        <p><strong>Country:</strong> United States</p>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#airportFormModal" data-bs-mode="edit" data-bs-iata-code="JFK" data-bs-name="John F. Kennedy International Airport" data-bs-city="New York" data-bs-country="United States">Edit</a>
                        <button class="btn btn-danger btn-sm remove-airport-btn" data-bs-toggle="modal" data-bs-target="#confirmDeleteModal" data-iata-code="JFK">Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Airport View Modals END -->

        <!-- Confirm Delete Modal START -->
        <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="confirmDeleteModalLabel">Confirm Deletion</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Are you sure you want to remove this airport?</p>
                        <p>IATA Code: <span id="deleteAirportIataCode"></span></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Remove</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Confirm Delete Modal END -->
	</div>
	<!-- Page content END -->
	
	</main>
<!-- **************** MAIN CONTENT END **************** -->

<!-- Bootstrap JS -->
<script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<!-- Vendor -->
<script src="assets/vendor/overlay-scrollbar/js/overlayscrollbars.min.js"></script>
<script src="assets/vendor/apexcharts/js/apexcharts.min.js"></script>

<!-- Custom Script -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const airportFormModal = document.getElementById('airportFormModal');
        const airportForm = document.getElementById('airportForm');
        const saveAirportBtn = document.getElementById('saveAirportBtn');
        const airportFormModalLabel = document.getElementById('airportFormModalLabel');
        const confirmDeleteModal = document.getElementById('confirmDeleteModal');
        const deleteAirportIataCodeSpan = document.getElementById('deleteAirportIataCode');
        const confirmDeleteBtn = document.getElementById('confirmDeleteBtn');
        let currentIataCode = null;

        airportFormModal.addEventListener('show.bs.modal', (event) => {
            const button = event.relatedTarget;
            const mode = button.getAttribute('data-bs-mode');
            const iataCode = button.getAttribute('data-bs-iata-code');
            const name = button.getAttribute('data-bs-name');
            const city = button.getAttribute('data-bs-city');
            const country = button.getAttribute('data-bs-country');

            if (mode === 'add') {
                airportFormModalLabel.textContent = 'New Airport';
                airportForm.reset();
                saveAirportBtn.textContent = 'Save';
            } else if (mode === 'edit') {
                airportFormModalLabel.textContent = 'Edit Airport';
                document.getElementById('iataCode').value = iataCode || '';
                document.getElementById('name').value = name || '';
                document.getElementById('city').value = city || '';
                document.getElementById('country').value = country || '';
                saveAirportBtn.textContent = 'Update';
            }
        });

        airportForm.addEventListener('submit', (event) => {
            event.preventDefault();
            const iataCode = document.getElementById('iataCode').value;
            const name = document.getElementById('name').value;
            const city = document.getElementById('city').value;
            const country = document.getElementById('country').value;

            // Log form data for debugging (replace with actual server submission logic)
            console.log('Airport Form submitted:', { iataCode, name, city, country });

            // Simulate server request (replace with actual API call)
            fetch('/api/airports', {
                method: saveAirportBtn.textContent === 'Save' ? 'POST' : 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ iataCode, name, city, country })
            })
            .then(response => response.json())
            .then(data => {
                console.log('Airport saved:', data);
                bootstrap.Modal.getInstance(airportFormModal).hide();
                // Optionally refresh the table
                location.reload();
            })
            .catch(error => console.error('Error saving airport:', error));
        });

        // Handle Remove Airport Confirmation
        document.querySelectorAll('.remove-airport-btn').forEach(button => {
            button.addEventListener('click', (event) => {
                currentIataCode = button.getAttribute('data-iata-code');
                deleteAirportIataCodeSpan.textContent = currentIataCode;
            });
        });

        confirmDeleteModal.addEventListener('show.bs.modal', () => {
            // Ensure the confirmation modal appears above the airport details modal
            document.querySelectorAll('.modal-backdrop').forEach(backdrop => {
                backdrop.style.zIndex = '1050';
            });
            confirmDeleteModal.style.zIndex = '1060';
        });

        confirmDeleteBtn.addEventListener('click', () => {
            // Simulate server request (replace with actual API call)
            fetch(`/api/airports/${currentIataCode}`, { method: 'DELETE' })
                .then(response => response.json())
                .then(data => {
                    console.log('Airport removed:', data);
                    bootstrap.Modal.getInstance(confirmDeleteModal).hide();
                    // Optionally, close the airport details modal as well
                    const openAirportModal = document.querySelector(`.modal.fade.show[id^="airportModal"][aria-hidden="false"]`);
                    if (openAirportModal) {
                        bootstrap.Modal.getInstance(openAirportModal).hide();
                    }
                    // Optionally refresh the table
                    location.reload();
                })
                .catch(error => console.error('Error removing airport:', error));
        });
    });
</script>

<!-- ThemeFunctions -->
<script src="assets/js/functions.js"></script>

</body>

</html>